<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>안녕지수 테스트 - 한 문항씩</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: #f5f8ff;
    }
    .page {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      padding: 20px;
      text-align: center;
    }
    .page.active {
      display: flex;
    }
    .circle-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 30px;
    }
    .circle-buttons button {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      border: 2px solid #007bff;
      background-color: white;
      font-weight: bold;
      color: #007bff;
      font-size: 16px;
      cursor: pointer;
      transition: 0.2s;
    }
    .circle-buttons button:hover {
      background-color: #007bff;
      color: white;
    }
    .result {
      display: none;
      text-align: center;
      padding: 40px;
    }
    .result img {
      width: 100px;
      margin-bottom: 20px;
    }
    .result h2 {
      font-size: 24px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <div id="container"></div>
  <div class="result" id="result-page">
    <img id="result-img" src="" alt="결과 캐릭터">
    <h2 id="result-title"></h2>
    <p id="result-text"></p>
  </div>

  <script>
    const questions = [
      "지금 당신의 삶에 얼마나 만족하나요?",
      "지금 얼마나 행복한가요?",
      "삶에 의미를 느끼나요?",
      "스트레스를 얼마나 받고 있나요?",
      "지루함을 느끼고 있나요?",
      "짜증나는 감정이 있나요?",
      "즐거운 감정이 있나요?",
      "평안한 감정이 있나요?",
      "우울한 감정을 느끼나요?",
      "불안한 감정을 느끼나요?"
    ];

    const posKeys = [0, 1, 2, 6, 7];
    const negKeys = [3, 4, 5, 8, 9];
    const answers = new Array(10).fill(null);

    const container = document.getElementById("container");

    questions.forEach((q, i) => {
      const page = document.createElement("div");
      page.className = "page";
      if (i === 0) page.classList.add("active");
      page.innerHTML = `<h2>${i + 1}. ${q}</h2>`;

      const btnGroup = document.createElement("div");
      btnGroup.className = "circle-buttons";

      for (let j = 0; j <= 10; j++) {
        const btn = document.createElement("button");
        btn.textContent = j;
        btn.onclick = () => {
          answers[i] = j;
          document.querySelectorAll(".page")[i].classList.remove("active");
          if (i + 1 < questions.length) {
            document.querySelectorAll(".page")[i + 1].classList.add("active");
          } else {
            showResult();
          }
        };
        btnGroup.appendChild(btn);
      }

      page.appendChild(btnGroup);
      container.appendChild(page);
    });

    function showResult() {
      const resultPage = document.getElementById("result-page");
      resultPage.style.display = "block";

      let pos = 0, neg = 0;
      posKeys.forEach(i => pos += answers[i]);
      negKeys.forEach(i => neg += (10 - answers[i]));
      const total = pos + neg;

      const title = document.getElementById("result-title");
      const text = document.getElementById("result-text");
      const img = document.getElementById("result-img");

      if (total >= 80) {
        title.innerText = `당신의 안녕지수는 ${total}점입니다.`;
        text.innerText = "당신은 꽤 안녕한 상태예요. 감정 밸런스를 잘 유지하고 있어요.";
        img.src = "https://cdn-icons-png.flaticon.com/512/742/742790.png";
      } else if (total >= 60) {
        title.innerText = `당신의 안녕지수는 ${total}점입니다.`;
        text.innerText = "조금 지쳤지만, 스스로를 잘 돌보고 있어요.";
        img.src = "https://cdn-icons-png.flaticon.com/512/742/742758.png";
      } else if (total >= 40) {
        title.innerText = `당신의 안녕지수는 ${total}점입니다.`;
        text.innerText = "마음의 휴식이 필요할 수도 있어요. 잠시 멈춰도 괜찮아요.";
        img.src = "https://cdn-icons-png.flaticon.com/512/742/742791.png";
      } else {
        title.innerText = `당신의 안녕지수는 ${total}점입니다.`;
        text.innerText = "지금은 회복이 필요한 시기예요. 당신의 감정을 더 챙겨주세요.";
        img.src = "https://cdn-icons-png.flaticon.com/512/742/742760.png";
      }
    }
  </script>
</body>
</html>