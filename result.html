<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë‚´ ë§ˆìŒ ê²°ê³¼</title>

  <link rel="stylesheet" href="result.css">

  <!-- Kakao SDK ì¶”ê°€ -->
  <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
</head>
<body>
  <div id="result-container">
    <img id="result-logo" src="your-logo-url.png" alt="ë¡œê³ " style="width: 80px; margin-bottom: 16px;">
    <div id="nickname" style="font-size: 18px; font-weight: bold; margin-bottom: 8px;"></div>
    <div id="result-score" style="font-size: 32px; font-weight: bold; margin-bottom: 8px;"></div>
    <div id="result-title" style="font-size: 24px; margin-bottom: 8px;"></div>
    <div id="result-text" style="font-size: 16px; color: #555;"></div>
    <img id="result-img" src="" alt="ê°ì • ìºë¦­í„°" style="width: 150px; margin-top: 20px;">
    <br><br>
    <button id="share-btn">ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ê³µìœ í•˜ê¸° ğŸ“©</button>
  </div>

  <script>
    // ì¹´ì¹´ì˜¤ ì´ˆê¸°í™”
    Kakao.init('2facc9f39347ae1f2bca2651543e2ed5');

    // URLì—ì„œ ì ìˆ˜ì™€ ì´ë¦„ ë°›ì•„ì˜¤ê¸°
    const urlParams = new URLSearchParams(window.location.search);
    const score = parseInt(urlParams.get('score'));
    const nickname = decodeURIComponent(urlParams.get('name') || "ìµëª…");

    // ê²°ê³¼ í”„ë¡œí•„ ë§¤ì¹­
    const resultProfiles = [
      {
        min: 0, max: 29,
        title: "ì¡°ê¸ˆ ì§€ì³ ìˆëŠ” ìƒíƒœì˜ˆìš”",
        text: "íœ´ì‹ì´ í•„ìš”í•  ìˆ˜ ìˆì–´ìš”. ìŠ¤ìŠ¤ë¡œë¥¼ ëŒë³´ì„¸ìš”.",
        img: "https://cdn-icons-png.flaticon.com/512/742/742760.png"
      },
      {
        min: 30, max: 39,
        title: "ì¡°ê¸ˆ ì§€ì³¤ì§€ë§Œ, ì˜ í•´ë‚´ê³  ìˆì–´ìš”.",
        text: "ë§ˆìŒì„ ëŒì•„ë³´ë©° í•œ ê±¸ìŒì”© ë‚˜ì•„ê°€ ë³´ì„¸ìš”.",
        img: "https://cdn-icons-png.flaticon.com/512/742/742758.png"
      },
      {
        min: 40, max: 50,
        title: "ê°ì • ë°¸ëŸ°ìŠ¤ë¥¼ ì˜ ìœ ì§€í•˜ê³  ìˆì–´ìš”.",
        text: "ì§€ê¸ˆì²˜ëŸ¼ ì˜ í•´ë‚´ê³  ìˆì–´ìš”. ìŠ¤ìŠ¤ë¡œë¥¼ ì¹­ì°¬í•´ì£¼ì„¸ìš”.",
        img: "https://cdn-icons-png.flaticon.com/512/742/742790.png"
      }
    ];

    function findProfile(score) {
      return resultProfiles.find(p => score >= p.min && score <= p.max);
    }

    function showResult() {
      const profile = findProfile(score);

      document.getElementById('nickname').innerText = nickname;
      document.getElementById('result-score').innerText = `${score}ì `;
      document.getElementById('result-title').innerText = profile.title;
      document.getElementById('result-text').innerText = profile.text;
      document.getElementById('result-img').src = profile.img;
      document.getElementById('result-logo').src = "your-logo-url.png"; // ë‚˜ì¤‘ì— ì§„ì§œ ë¡œê³ ë¡œ êµì²´
    }

    showResult();

    // ì¹´ì¹´ì˜¤ ê³µìœ  ê¸°ëŠ¥
    document.getElementById('share-btn').addEventListener('click', () => {
      const profile = findProfile(score);

      Kakao.Link.sendDefault({
        objectType: 'feed',
        content: {
          title: 'ë‚´ ê°ì • ê²°ê³¼',
          description: `${profile.title} - ${profile.text}`,
          imageUrl: profile.img,
          link: {
            mobileWebUrl: 'https://seonghyeonbae1206.github.io/feeling-healing/',
            webUrl: 'https://seonghyeonbae1206.github.io/feeling-healing/'
          }
        },
        buttons: [
          {
            title: 'ë‚˜ë„ ê°ì • í…ŒìŠ¤íŠ¸í•˜ê¸°',
            link: {
              mobileWebUrl: 'https://seonghyeonbae1206.github.io/feeling-healing/',
              webUrl: 'https://seonghyeonbae1206.github.io/feeling-healing/'
            }
          }
        ]
      });

      // ë§Œì•½ ê³µìœ  ì„±ê³µì‹œ, shared ìƒíƒœ ì—…ë°ì´íŠ¸í•˜ê³  ì‹¶ìœ¼ë©´ ì—¬ê¸° ì¶”ê°€ ê°€ëŠ¥
    });
  </script>
</body>
</html>
